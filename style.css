/* ... (Alle vorherigen Styles bleiben bestehen) ... */

/* Globale Variablen erweitern (optional für Farben erledigter Lektionen) */
:root {
    /* ... (bestehende Variablen) ... */
    --duo-grey-completed: #586474; /* Farbe für erledigte Lektionen */
    --duo-grey-completed-border: #7a8aa0;
    --duo-grey-completed-shadow: #404a55;
    --duo-selection-glow: 0 0 8px 3px rgba(29, 176, 246, 0.7); /* Leuchten für Klick-Auswahl */
}

/* Hauptinhalt - Platz für die Figur schaffen */
.main-content {
    flex-grow: 1;
    overflow-y: auto;
    padding: 20px 20px 80px 20px; /* Mehr Platz unten für Figur/Footer */
    position: relative; /* Für absolute Positionierung der Figur */
}

/* Lernpfad - Änderungen für Schlangenlinie (wird per JS positioniert) */
.learning-path {
    display: block; /* Nicht mehr flex, da JS positioniert */
    position: relative; /* Basis für absolute Positionierung der Nodes */
    padding-top: 20px; /* Etwas Platz oben */
    padding-bottom: 40px; /* Mehr Platz unten */
    margin: 0 auto; /* Zentriert den Pfad-Bereich */
    max-width: 300px; /* Breite des Pfad-Bereichs */
}

/* Positionierung der Nodes und Connectors wird von JS übernommen */
.lesson-node {
    /* ... (bestehende Styles wie Farbe, Größe, etc.) ... */
    position: absolute; /* Für JS-Positionierung */
    left: 50%; /* JS passt translateX an */
    transform: translateX(-50%); /* Standard: zentriert */
    /* Margin wird nicht mehr für vertikalen Abstand genutzt */
}
/* Entferne evtl. alte Margin/Align Items vom Path */
.learning-path {
 /* align-items: center; -> Entfernen */
}

.connector {
    /* ... (bestehende Styles wie Farbe, Dicke) ... */
    position: absolute; /* Auch absolut positioniert */
    left: 50%;
    transform: translateX(-50%);
     z-index: -1; /* Hinter die Nodes legen */
     /* Höhe und top werden per JS gesetzt */
}


/* Style für erledigte Lektionen */
.lesson-node.lesson-completed {
    background-color: var(--duo-grey-completed);
    border-color: var(--duo-grey-completed-border);
    box-shadow: 0 5px 0px var(--duo-grey-completed-shadow);
}
.lesson-node.lesson-completed:hover { /* Weniger auffälliger Hover */
    transform: translateY(-2px) scale(1.01);
    box-shadow: 0 6px 0px var(--duo-grey-completed-shadow), 0 2px 5px rgba(0,0,0,0.2);
}
.lesson-node.lesson-completed:active {
     transform: translateY(1px) scale(0.99);
     box-shadow: 0 3px 0px var(--duo-grey-completed-shadow);
}

/* Optional: Checkmark für erledigte Lektionen */
.lesson-node.lesson-completed::after {
    content: '\f00c'; /* Font Awesome Checkmark */
    font-family: 'Font Awesome 6 Free';
    font-weight: 900;
    position: absolute;
    top: -10px;
    right: -10px;
    font-size: 18px;
    color: white;
    background-color: var(--duo-green);
    border-radius: 50%;
    width: 24px;
    height: 24px;
    display: flex;
    justify-content: center;
    align-items: center;
    box-shadow: 0 2px 3px rgba(0,0,0,0.3);
}
/* Kein Checkmark für Trophäen */
.lesson-node.type-trophy.lesson-completed::after {
    display: none;
}


/* Drag & Drop Bereich - Styling für Klick-Auswahl */
#image-source .dance-step-img.selected-for-placement {
    border-color: var(--duo-blue);
    box-shadow: var(--duo-selection-glow);
    transform: scale(1.05);
    cursor: default; /* Zeigt an, dass es ausgewählt ist */
}

/* Platzhalter hervorheben, wenn ein Bild ausgewählt ist */
.drop-placeholder.targetable {
    cursor: pointer;
    border-style: dashed;
    border-color: var(--duo-blue);
    background-color: rgba(29, 176, 246, 0.1); /* Leichter blauer Hintergrund */
}
.drop-placeholder.targetable:hover {
    border-style: solid;
     background-color: rgba(29, 176, 246, 0.2);
}


/* Duolingo Charakter Styling */
#duo-character {
    position: absolute; /* Innerhalb von main-content positioniert */
    bottom: 70px; /* Abstand zum unteren Rand (über dem Footer) */
    right: 5px;
    width: 100px; /* Beispielgröße */
    height: auto; /* Höhe automatisch anpassen */
    z-index: 10; /* Über dem Lernpfad, aber unter Overlays */
     pointer-events: none; /* Nicht klickbar machen */
}
#duo-character img {
    display: block;
    width: 100%;
    height: auto;
    /* Optional: Filter für Schatten etc. */
    /* filter: drop-shadow(2px 4px 6px rgba(0,0,0,0.3)); */
}

/* Responsive Anpassung für Figur (optional) */
@media (max-width: 480px) {
    #duo-character {
        width: 70px;
        bottom: 65px;
        right: 0px;
    }
}

/* Anpassung Feedback, um Platz für Button zu lassen */
#feedback.feedback-incorrect + #check-button {
   /* Ggf. den Button etwas verschieben, wenn Feedback da ist */
   /* Oder der Button bleibt, und Feedback überlagert nur den unteren Teil */
}
